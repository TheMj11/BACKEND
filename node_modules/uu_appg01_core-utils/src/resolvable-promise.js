"use strict"

/**
 * Promise which can be created without executor and can
 * be resolved (or rejected) from outside of executor.
 */
class ResolvablePromise extends Promise {

  /**
   * Creates new instance of ResolvablePromise.
   * @param {*} executor Optional async executor
   */
  constructor(executor = () => {}) {
    executor ||= () => {};
    let resolve, reject;
    super((res, rej) => {
      resolve = res;
      reject = rej;
      executor(res, rej);
    });
    this.resolve = resolve;
    this.reject = reject;
  }

}

module.exports = ResolvablePromise;
