"use strict";

const { Config } = require("uu_appg01_core-utils");
const UuCommandLineTemplate = require("../helpers/uu-command-line-template.js");

class SysApiConsoleAbl {
  constructor() {
    this._asid = Config.getString("asid");
    this._uuCommandLineTemplate = UuCommandLineTemplate.create();
  }

  async getData(uri) {
    const awid = uri.getAwid();
    let uuAppErrorMap = {};

    return {
      ...this._uuCommandLineTemplate,
      environmentMap: {
        [awid]: {
          name: `${awid === this._asid ? "ASID" : "AWID"} - ${awid}`,
          baseUri: uri.getBaseUri(),
        },
      },
      uuAppErrorMap,
    };
  }
}

module.exports = new SysApiConsoleAbl();
