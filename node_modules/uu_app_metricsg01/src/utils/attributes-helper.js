"use strict";

class AttributesHelper {
  static encodeAttributes(attributes = {}) {
    return Buffer.from(
      JSON.stringify(
        Object.keys(attributes)
          .sort()
          .map((key) => [key, attributes[key]]),
      ),
    ).toString("base64");
  }

  static decodeAttributes(attributesHash) {
    return Object.fromEntries(JSON.parse(Buffer.from(attributesHash, "base64").toString("utf-8")));
  }
}

module.exports = AttributesHelper;
