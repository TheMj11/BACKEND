const Environment = require("../environment");
const DevkitBaseError = require("../errors/devkit-base-error");

class EnvParamHelper {
  validateSingleParameter(env, paramKey, defaultValue) {
    const paramValue = env.getArgumentValue(paramKey) || env.getDevkitConfig()[paramKey] || defaultValue;
    if (!paramValue || paramValue === Environment.REQUIRED_VALUE_PLACEHOLDER) {
      throw new DevkitBaseError("Missing parameter: " + paramKey);
    }
    return paramValue;
  }
}

module.exports = new EnvParamHelper();
