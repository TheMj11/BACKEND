"use strict";

const CloudClient = require("./cloud-client.js");
const DevkitBaseError = require("../errors/devkit-base-error.js");

class ResourcePool extends CloudClient {

  constructor(environment, opts = {}) {
    super(environment, opts, "uuAppResourceIfc");
  }

  async listAllocatedResources(uuAppResourcePoolOid) {
    try {
      return await this._get("list", {uuAppResourcePoolOid, stateList: ["allocated"]});
    } catch (e) {
      throw new DevkitBaseError("Getting list of uuApp resources failed.", null, e);
    }
  }

  async listResourcesByStateList(uuAppResourcePoolOid, stateList) {
    try {
      return await this._get("list", {uuAppResourcePoolOid, stateList});
    } catch (e) {
      throw new DevkitBaseError("Getting list of uuApp resources failed.", null, e);
    }
  }

}

module.exports = ResourcePool;
